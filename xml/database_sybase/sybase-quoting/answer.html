<p>
Bei Sybase müssen Anführungsstriche Strings innerhalb von Queries nicht mit 
einem Backslash (\), sondern mit dem jeweils gleichen Zeichen escaped werden.
Folgendes Beispiel sollte das anschaulich machen:</p>

<pre class="sql">SELECT &quot;Er sagte: &quot;&quot;Hallo Welt&quot;&quot;&quot;
SELECT 'Das gibt''s doch nicht'</pre>

<p>
Eine Komfort-Funktion, die sich darum kümmert, dass in SQL-Statements immer
richtig gequotet wird, soll hier gezeigt werden:</p>

<pre>function sybase_prepare&#40;&#41; &#123;
  $args= func_get_args&#40;&#41;;
  $sql= $args&#91;0&#93;;
  if &#40;sizeof&#40;$args&#41;&lt;= 1&#41; return $sql;
  $j= 0;    
  $sql= $tok= strtok&#40;$sql, '%'&#41;;
  while &#40;++$j &amp;&amp; $tok= strtok&#40;'%'&#41;&#41; &#123;
    $arg= &#40;is_object&#40;$args&#91;$j&#93;&#41; &amp;&amp; method_exists&#40;$args&#91;$j&#93;, 'toString'&#41; 
      ? $args&#91;$j&#93;-&gt;toString&#40;&#41;
      : $args&#91;$j&#93;
    &#41;;
    switch &#40;$tok&#123;0&#125;&#41; &#123;
      case 'd': 
        $sql.= &#40;$arg === NULL ? 'NULL' : intval&#40;$arg&#41;&#41;.substr&#40;$tok, 1&#41;; 
        break;
&nbsp;
      case 'c': 
        $sql.= substr&#40;$tok, 1&#41;; 
        break;
&nbsp;
      case 's': 
        $sql.= &#40;$arg === NULL ? 'NULL' : &quot;'&quot;.str_replace&#40;&quot;'&quot;, &quot;''&quot;, $arg&#41;.&quot;'&quot;&#41;.substr&#40;$tok, 1&#41;; 
        break;
&nbsp;
      default: 
        $sql.= '%'.$tok; $j--;
    &#125;
  &#125;
  return $sql;
&#125;
&nbsp;
// Beispiel 1
$sql= sybase_prepare&#40;'
  insert into person (
    person_id, name, company
  ) values (
    %d, %s, %s
  )',
  1,
  'Dau Jones',
  NULL
&#41;;
&nbsp;
// Beispiel 2
class Date &#123;
  var $utime;
&nbsp;
  function Date&#40;$utime&#41; &#123;
    $this-&gt;utime= $utime;
  &#125;
&nbsp;
  function toString&#40;$fmt= 'Y-m-d H:i:s'&#41; &#123;
    return date&#40;$fmt, $this-&gt;utime&#41;;
  &#125;
&#125;
&nbsp;
$date= &amp;new Date&#40;time&#40;&#41;&#41;;
$sql= sybase_prepare&#40;
  'select count(*) from %c where lastchange= %s',
  'account',
  $date
&#41;;</pre>

