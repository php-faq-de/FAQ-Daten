<p>Mit Hilfe der Funktion <a href="http://www.php3.de/mysql_connect">mysql_connect()</a>
kann man eine Datenbankverbindung zu einem MySQL-Server aufbauen,
um dann mit <a href="http://www.php3.de/mysql_select_db">mysql_select_db()</a> die Datenbank
auf dem Server auszuwählen. Das Resultat ist eine <tt>Link-ID</tt>,
die man bei allen anderen MySQL-Funktionen angeben kann.</p>

<p>In der <tt>php.ini</tt> kann man festlegen, welche Datenbank und
welcher Benutzername und welches Passwort die Funktion verwenden
soll, wenn diese Angaben beim Funktionsaufruf weggelassen
werden, auch wenn es nur untermittelschlau ist, dies zu tun:</p>

<pre>
; default host for mysql_connect() (doesn't apply in safe mode)
mysql.default_host  =
; default user for mysql_connect() (doesn't apply in safe mode)
mysql.default_user  =
; default password for mysql_connect() (doesn't apply in safe mode)
mysql.default_password  =

; Note that this is generally a *bad* idea to store passwords
; in this file. *Any* user with PHP access can run
; 'echo cfg_get_var("mysql.default_password")' and reveal that
; password!  And of course, any users with read access to this
; file will be able to reveal the password as well.
</pre>

<p>Kontaktaufnahme mit dem Server und Festlegen der Datenbank:</p>

<pre>$link = mysql_connect&#40;&quot;localhost&quot;, &quot;ich&quot;, &quot;geheim&quot;&#41;;
  if &#40;!$link&#41;
    die&#40;&quot;Kann den Server nicht erreichen.&quot;&#41;;
  if &#40;!mysql_select_db&#40;&quot;meinedatenbank&quot;, $link&#41;&#41;
    die&#40;&quot;Kann die Datenbank nicht anwählen.&quot;&#41;;</pre>

<p>Das Senden einer Anfrage an die Datenbank erfolgt mit Hilfe der
Funktion <a href="http://www.php3.de/mysql_query">mysql_query()</a>. Diese Funktion liefert
einen Result-Identifier, mit dem dann das Ergebnis abgefragt werden
kann: Mit der Funktion <a href="http://www.php3.de/mysql_num_rows">mysql_num_rows()</a>
bestimmt man die Anzahl der Zeilen des Ergebnisses und mit Hilfe der
Funktion <a href="http://www.php3.de/mysql_fetch_array">mysql_fetch_array()</a>
kann man die jeweils aktuelle Zeile des Ergebnisses einlesen.</p>

<pre>$query = &quot;SELECT * FROM meinetabelle ORDER BY id&quot;;
$result = mysql_query&#40;$query, $link&#41;;
if &#40;!$result&#41;
&#123;
    print mysql_error&#40;&#41;;
    die&#40;&quot;Query $query ist ungültiges SQL.&quot;&#41;;
&#125;
&nbsp;
$zeilen = mysql_num_rows&#40;$result&#41;;
printf&#40;&quot;Das Ergebnis hat %d Zeilen.\n&quot;, $zeilen&#41;;
&nbsp;
while&#40;$avar = mysql_fetch_array&#40;$result&#41;&#41;
    printf&#40;&quot;Spalte bla hat den Wert %s\n&quot;, $avar&#91;&quot;bla&quot;&#93;&#41;;
&nbsp;
mysql_free_result&#40;$result&#41;;
mysql_close&#40;$link&#41;;</pre>

