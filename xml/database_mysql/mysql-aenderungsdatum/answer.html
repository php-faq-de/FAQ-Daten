<p>Ein vollständiges Beispiel folgt. Zunächst die Definition einer
einfachen Tabelle mit einigen Werten:</p>

<pre>
mysql&gt; create table beispiel (
    -&gt;   id integer not null auto_increment primary key,
    -&gt;   nutzlast varchar(80) not null,
    -&gt;   changed timestamp not null );
Query OK, 0 rows affected (0.00 sec)

mysql&gt; insert into beispiel ( nutzlast ) values ( "eins");
Query OK, 1 row affected (0.02 sec)

mysql&gt; insert into beispiel ( nutzlast ) values ( "zwei");
Query OK, 1 row affected (0.00 sec)

mysql&gt; insert into beispiel ( nutzlast ) values ( "drei");
Query OK, 1 row affected (0.00 sec)

mysql&gt; select * from beispiel;
+----+----------+----------------+
| id | nutzlast | changed        |
+----+----------+----------------+
|  1 | eins     | 20000126204514 |
|  2 | zwei     | 20000126204517 |
|  3 | drei     | 20000126204520 |
+----+----------+----------------+
3 rows in set (0.02 sec)

mysql&gt; update beispiel set changed = "20000101123456" where id = 2;
Query OK, 1 row affected (0.01 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql&gt; select * from beispiel where changed &gt; "20000115000000";
+----+----------+----------------+
| id | nutzlast | changed        |
+----+----------+----------------+
|  1 | eins     | 20000126204514 |
|  3 | drei     | 20000126204520 |
+----+----------+----------------+
2 rows in set (0.02 sec)

mysql&gt; quit
Bye
</pre>

<p>In diesem Beispiel ist eine Tabelle <tt>beispiel</tt> angelegt
worden, die neben einer Nutzlastspalte mit dem Namen
<tt>nutzlast</tt> auch noch einen automatisch vergebenen
Primärschlüssel <tt>id</tt> und ein automatisch aktualisiertes
Änderungsdatum enthält. Wir haben das Änderungsdatum für den
Datensatz mit der Nummer 2 künstlich zurückgestellt.</p>

<p>Das folgende Beispielscript listet nun alle Datensätze, die in
den letzten 2 Wochen geändert worden sind.</p>

<pre>&lt;?php
&nbsp;
// Eigene Daten eintragen:
$dbhost = &quot;localhost&quot;; // DB-Server
$dbuser = &quot;root&quot;;      // DB-Server Username
$dbpass = &quot;...&quot;;       // DB-Server Passwort
$dbname = &quot;...&quot;;       // Datenbank Name
&nbsp;
// Mit DB-Server und Datenbank verbinden, bei Fehler Script beenden.
$db_link = @mysql_connect&#40;$dbhost, $dbuser, $dbpass&#41;;
&nbsp;
if &#40;! $db_link&#41; &#123;
    die&#40;&quot;Fehler beim Verbinden mit Server '$dbhost' als '$dbuser' mit Passwort '$dbpass'.&quot;&#41;;
&#125;
&nbsp;
if &#40;! mysql_select_db&#40;$dbname, $db_link&#41;&#41; &#123;
    die&#40;&quot;Fehler beim Verbinden mit der Datenbank $dbname&quot;&#41;;
&#125;
&nbsp;
// Zeitgrenze bestimmen (86400 Sekunden = 1 Tag).
$twoweeks = date&#40;&quot;YmdHis&quot;, time&#40;&#41; - 14*86400&#41;;
&nbsp;
// Query generieren.
$query = &quot;SELECT id,
                 nutzlast,
                 date_format(changed, '%Y-%m-%d %H:%i:%s') as changed
          FROM   beispiel
          WHERE  changed &gt; $twoweeks&quot;;
&nbsp;
$result = mysql_query&#40;$query, $db_link&#41;;
&nbsp;
// Falls Query fehlerhaft, Script beenden.
if &#40;! $result&#41; &#123;
    die&#40;&quot;Fehler bei der Query: $query&quot;&#41;;
&#125;
&nbsp;
// Query senden, Resultat ausgeben.
while&#40;$avar = mysql_fetch_array&#40;$result&#41;&#41; 
&#123;
    printf&#40;&quot;%s - %s - %s\n&quot;,
            $avar&#91;'id'&#93;, $avar&#91;'nutzlast'&#93;, $avar&#91;'changed'&#93;&#41;;
&#125;
&nbsp;
// Speicher wieder freigeben und Verbindung zur DB schließen.
mysql_free_result&#40;$result&#41;;
mysql_close&#40;$db_link&#41;;
&nbsp;
?&gt;
&nbsp;
Der Output des Scripts ist:
&nbsp;
1 - eins - 2000-01-26 20:45:14
3 - drei - 2000-01-26 20:45:20</pre>

