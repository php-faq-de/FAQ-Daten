<p>In der strukturierten Programmierung erzeugt man Schleifen
ohne Schleifenkurzschlüsse mit <tt>continue</tt> oder
<tt>break</tt> und Funktionen mit genau einem Funktionsausgang
durch <tt>return</tt>. Dadurch entsteht häufig Code mit sehr
vielen geschachtelten Abfragen.</p>

<p>Meistens versucht man vor der eigentlichen Nutzlast einer
Schleife oder einer Funktion eine Reihe von Vorbedingungen zu
testen, die für den erfolgreichen Einsatz der Nutzlast
sichergestellt sein müssen. Der generierte Code sieht dann wie
folgt aus:</p>

<pre>if &#40;vorbedingung&#41; &#123;
  if &#40;vorbedingung2&#41; &#123;
    if &#40;vorbedingung3&#41; &#123;
      doit&#40;&#41;; // Nutzlast
    &#125; else &#123;
      handle_error3&#40;&#41;;
  &#125; else &#123;
    handle_error2&#40;&#41;;
  &#125;
&#125; else &#123;
  handle_error&#40;&#41;;
&#125;</pre>

<p>Dies ist sehr schwer zu lesen und zu verstehen, weil der
eigentliche Zweck der Funktion tief geschachtelt und sehr
unübersichtlich versteckt ist. Geübte Programmierer verwenden
stattdessen absichtlich die in der strukturierten Programmierung verpönten
Schleifenkurzschlüsse und frühzeitigen Funktionsausstiege in
einer bestimmten Form, um besser lesbaren Code zu schreiben:</p>

<pre>if &#40;!vorbedingung&#41;
  handle_error&#40;&#41;;
&nbsp;
if &#40;!vorbedingung2&#41;
  handle_error2&#40;&#41;;
&nbsp;
if &#40;!vorbedingung3&#41;
  handle_error3&#40;&#41;;
&nbsp;
doit; // Nutzlast</pre>

<p>Dieser Code skaliert sich besser: Egal wieviele
Vorbedingungen zu erfüllen sind - die Einrücktiefe bleibt
konstant. Außerdem steht der normale Fall jetzt in Falllinie und
der Fehlercode ist als Ausnahme eingerückt und zur Seite
gedrängt.</p>

<p>Ein praktisches Beispiel: Der folgende Code zum Durchlesen
eines Verzeichnisses</p>

<pre>$d = dir&#40;&quot;d:/logfiles&quot;&#41;;
while&#40;$entry=$d-&gt;read&#40;&#41;&#41; &#123;
  if &#40;&#40;$entry != &quot;.&quot;&#41; &amp;&amp; &#40;$entry != &quot;..&quot;&#41;&#41; &#123;
    doit&#40;&#41;;
  &#125;
&#125;
$d-&gt;close&#40;&#41;;</pre>

<p>wird durch die Umstellung zu</p>

<pre>$d = dir&#40;&quot;d:/logfiles&quot;&#41;;
while &#40;$entry = $d-&gt;read&#40;&#41;&#41; &#123;
&nbsp;
  if &#40;$entry == &quot;.&quot; or $entry == &quot;..&quot;&#41;
        continue;
&nbsp;
  doit&#40;&#41;;
&#125;
$d-&gt;close&#40;&#41;;</pre>

