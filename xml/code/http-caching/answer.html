<p>
In HTTP 1.0 kann man das Caching einer Seite nur unvollständig
steuern. Die ersten Webcaches haben die Lebensdauer von Seiten
im Cache auf der Grundlage des Erzeugungsdatums geschätzt oder,
wenn ein <tt>Expires</tt>-Header angegeben, diesen beachtet. Später
ist der spezielle Header <tt>Pragma: no-cache</tt> eingeführt
worden, um das Caching von Seiten durch Webcaches und Browser zu
verbieten.
</p>

<p>
Erst mit HTTP 1.1 kann eine spezielle Cache-Steuerung hinzu, die
zwischen privaten (browsereigenen) Caches und öffentlichen
Caches unterschied. Über den besonderen Header
<tt>Cache-Control</tt> kann man die Lebensdauer von Seiten in Caches
steuern.
</p>

<p>
Microsoft kocht zusätzlich noch eine Spezialsuppe, indem sie für den MSIE
5.x spezielle
<a href="http://msdn.microsoft.com/workshop/author/perf/perftips.asp#Use%20Cache-Control%20Extensions">Cache-Control Extensions</a>
definieren.
</p>

<p>
Um das Caching einer Seite zu erlauben, kann man den folgenden
Code verwenden:
</p>

<pre>$expire = 15;  // Lebensdauer der Seite im Cache in Minuten
&nbsp;
$exp_gmt = gmdate&#40;&quot;D, d M Y H:i:s&quot;, time&#40;&#41; + $expire * 60&#41; .&quot; GMT&quot;;
$mod_gmt = gmdate&#40;&quot;D, d M Y H:i:s&quot;, getlastmod&#40;&#41;&#41; .&quot; GMT&quot;;
&nbsp;
// HTTP 1.0
header&#40;&quot;Expires: &quot; . $exp_gmt&#41;;
header&#40;&quot;Last-Modified: &quot; . $mod_gmt&#41;;
&nbsp;
// HTTP 1.1
header&#40;&quot;Cache-Control: public, max-age=&quot; . $expire * 60&#41;;</pre>

<p>
Um das Caching einer Seite auf private Caches zu begrenzen muss
man Code wie diesen nehmen:
</p>

<pre>$expire = 15;  // Lebensdauer der Seite im Cache in Minuten
&nbsp;
$mod_gmt = gmdate&#40;&quot;D, d M Y H:i:s&quot;, getlastmod&#40;&#41;&#41; .&quot; GMT&quot;;
&nbsp;
// HTTP 1.0 kennt keine privaten Caches, also nix cachen
header&#40;&quot;Expires: Mon, 26 Jul 1997 05:00:00 GMT&quot;&#41;;
header&#40;&quot;Last-Modified: &quot; . $mod_gmt&#41;;
&nbsp;
// HTTP 1.1
header&#40;&quot;Cache-Control: private, max-age=&quot; . $expire * 60&#41;;
&nbsp;
// MSIE 5.x special
header&#40;&quot;Cache-Control: pre-check=&quot; . $expire * 60, FALSE&#41;;</pre>

<p>
Um das Caching einer Seite zu verhindern, ist der folgende Code
passend:
</p>

<pre>header&#40;&quot;Expires: Mon, 26 Jul 1997 05:00:00 GMT&quot;&#41;;
header&#40;&quot;Last-Modified: &quot; . gmdate&#40;&quot;D, d M Y H:i:s&quot;&#41; .&quot; GMT&quot;&#41;;
header&#40;&quot;Cache-Control: no-cache&quot;&#41;;
header&#40;&quot;Pragma: no-cache&quot;&#41;;
header&#40;&quot;Cache-Control: post-check=0, pre-check=0&quot;, FALSE&#41;;</pre>

<p>
Ein anderer Trick, mit dem man das Caching einer Seite gut
verhindern kann, ist das Anhängen von Parametern an die URL
einer Seite in der Form <tt>http://www.meinserver.de/bla.php?x=y</tt>
oder das Einfügen von benutzerspezifischen Komponenten in die
URL (in den Hostnamen, den Pfad oder den Dateinamen).
</p>

