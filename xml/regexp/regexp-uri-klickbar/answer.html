<p>
Besten Dank an <a href="mailto:subjective@subjective.de">Thomas Weinert</a>, von
dem die ursprüngliche RegExp stammt.
</p>

<p>
Folgender regulärer Ausdruck ersetzt alle normalen URIs,
das heißt zum Beispiel http://www.phpcenter.de/, news:de.comp.lang.php,
mailto:bjoern@thinkphp.de oder ftp://ftp.suse.com/ durch HTML-Code,
damit diese URIs für den Benutzer klickbar werden.
</p>

<pre>/**
* replace URIs with appropriate HTML code to be clickable.
*/
function replace_uri($str) {
  $pattern = '#(^|[^\"=]{1})(http://|ftp://|mailto:|news:)([^\s&lt;&gt;]+)([\s\n&lt;&gt;]|$)#sm';
  return preg_replace($pattern,"\\1&lt;a href=\"\\2\\3\"&gt;&lt;u&gt;\\2\\3&lt;/u&gt;&lt;/a&gt;\\4",$str);
}</pre>

