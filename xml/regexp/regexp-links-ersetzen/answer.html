<p>
<tt>$zeile</tt> sei der Inhalt einer zuvor eingelesenen
HTML-Datei. Im folgenden Beispiel werden alle relativen Links
durch das Konstrukt <tt>&lt;?php echo
$sess-&gt;purl('/relativerlink'); ?&gt;</tt> ersetzt.
<tt>relativerlink</tt> sei hierbei der relative Link, der
gefunden wurde.
</p>

<pre>$pattern  = ',&lt;a([^&gt;]+)href="(?!https?://|ftp://|mailto:|news:)([^&gt;"\s]+)",i';
$replacement = '&lt;a\1href="&lt;?php echo $sess-&gt;purl("\2"); ?&gt;"';
 
$newtext = preg_replace($pattern, $replacement, $text);
 
header('Content-type: text/plain');
echo $newtext;</pre>

